{{define "live_player"}}

<div class="row justify-content-center align-items-center mobile-column p-4 live-container" id="live-player-container">

    <div class="live-now-playing">
        <p id="live-player-track-container" style="display: none">
            Now playing:<br/><b id="live-player-track-title"></b>
            <span class="mobile-hide"> by <b id="live-player-track-artist"></b></span>
        </p>
    </div>

    <button class="p-4 play-pause-button" id="live-player-play">
      <i class="fa fa-play"></i>
    </button>

    <label>
        Volume:<br>
        <input type="range" min="0" max="11" step="1" name="volume" id="live-player-volume">
    </label>

    <p>
        <a href="//ury.org.uk/live/" onclick="window.open('//ury.org.uk/live', 'radioplayer', 'height=800,width=440'); window.livePlayer.pause(); return false;"><i>Pop-up player</i></a>
    </p>
</div>

<script type="module">
    import { makePlayer } from '{{url "/js/live-player.js"}}';
    window.livePlayer = makePlayer({
        idPrefix: 'live-player',
        audioUrl: '{{.PageContext.LiveAudioURL}}',
        icecastStatusUrl: '{{.PageContext.IcecastStatusURL}}',
    });
</script>

{{end}}
