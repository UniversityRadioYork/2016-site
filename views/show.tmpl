{{define "title"}}{{.PageContext.ShortName}} | {{.PageData.Show.Title}}{{end}}

{{define "open-graph"}}
<meta name="twitter:card" content="summary">
<meta name="twitter:site" content="@{{.PageContext.MainTwitter}}">
<meta name="twitter:creator" content="@{{.PageContext.MainTwitter}}">
<meta property="og:locale" content="en_GB">
<meta property="og:title" content="{{.PageContext.ShortName}} | {{.PageData.Show.Title}}">
{{if .PageData.Show.Photo}}
<meta property="og:image" content="{{.PageContext.FullURL}}{{url .PageData.Show.Photo}}">
{{else}}
<meta property="og:image" content="{{.PageContext.FullURL}}{{url "images/open_graph-general.jpg"}}">
{{end}}
<meta property="og:type" content="website">
<meta property="og:url" content="{{.PageContext.FullURL}}{{url "/schedule/shows/"}}{{.PageData.Show.ShowID}}">
<meta property="og:description" content="{{.PageData.Show.Description}}">
{{end}}

{{define "content"}}
{{with .PageData}}
<div class="container-fluid current-next">

</div>
<div class="container-fluid bg-off-white">
  <div class="container p-3">
    <div class="row">
      <div class="col-12 col-sm-5 col-lg-3">
         <img class="img-fluid show-img" src="
         {{if .Show.Photo}}
         https://ury.org.uk{{.Show.Photo}}
         {{else}}
         /images/show-current.png
         {{end}}"
         alt="{{.Show.Title}} Logo">
        <div class="row">
          <div class="col-6 text-center">
            <h6>Seasons: {{len .Seasons}}</h6>
          </div>
          <div class="col-6 text-center">
            <h6>Shows: {{showCount .Seasons}}</h6>
          </div>
        </div>
      </div>
      <div class="col-12 col-sm-7 col-lg-9">
        <h1>{{.Show.Title}}</h1>
        <hr>
        <h2>Description</h2>
        <p>{{html .Show.Description}}</p>
        <hr>
        <div class="row justify-content-end">
{{end}}
          <div class="col-auto share-links">
              <span class="h5 mg-right-5">Share:</span>
              <a href="#"
                  data-type="twitter"
                  data-url="{{.PageContext.FullURL}}/schedule/shows/{{.PageData.Show.ShowID}}"
                  {{if .PageData.Show.Photo}}
                      data-media="{{.PageContext.FullURL}}{{.PageData.Show.Photo}}"
                  {{end}}
                  data-description="Checkout {{.PageData.Show.Title}} on {{.PageContext.LongName}}"
                  data-via="{{.PageContext.MainTwitter}}"
                  class="prettySocial fa fa-twitter">
              </a>

              <a href="#"
                  data-type="facebook"
                  data-url="{{.PageContext.FullURL}}/schedule/shows/{{.PageData.Show.ShowID}}"
                  data-title="{{.PageData.Show.Title}} | {{.PageContext.ShortName}}"
                  data-description="{{.PageData.Show.Description}}"
                  {{if .PageData.Show.Photo}}
                      data-media="{{.PageContext.FullURL}}{{.PageData.Show.Photo}}"
                  {{end}}
                  class="prettySocial fa fa-facebook">
              </a>

              <a href="#"
                  data-type="googleplus"
                  data-url="{{.PageContext.FullURL}}/schedule/shows/{{.PageData.Show.ShowID}}"
                  data-description="{{.PageData.Show.Description}}"
                  {{if .PageData.Show.Photo}}
                      data-media="{{.PageContext.FullURL}}{{.PageData.Show.Photo}}"
                  {{end}}
                  class="prettySocial fa fa-google">
              </a>

            </div>
        </div>
      </div>
    </div>
  </div>
</div>
{{with .PageData}}
{{if .CreditsToUsers}}
<div class="container-fluid bg-secondary">
  <div class="container pt-3">
    <h2>Credits</h2>
    <hr>
    <div class="row">
      {{range $key, $value := .CreditsToUsers}}
      <div class="col-sm-4 pb-3">
        {{if gt (len $value) 1}}
          <h4>{{plural $key}}</h4>
        {{else}}
          <h4>{{$key}}</h4>
        {{end}}
        {{range $value}}
        <a href="/people/{{.MemberID}}/">{{.Fname}} {{.Sname}}</a> <br>
        {{end}}
      </div>
      {{end}}
    </div>
  </div>
</div>
{{end}}
<div class="container-fluid">
  <div class="container pt-3">
    <div class="row">
      <div class="col">
        <h2>Seasons</h2>
        <ul>
        {{range .Seasons}}
          <li>
            <a href="/schedule/shows/seasons/{{.SeasonID}}/">Seasion {{.SeasonNum}}: {{.FirstTime.Format "Monday, _2 Jan 2006 at 15:04"}} - {{.NumEpisodes.Value}} Episode(s)</a>
          </li>
        {{end}}
        </ul>
      </div>
    </div>
  </div>
</div>
{{end}}
{{end}}
{{define "footer-scripts"}}
  <script src="{{url "/js/jquery.prettySocial.min.js"}}"></script>
  <script type="text/javascript" class="source">
    $(".prettySocial").prettySocial();
  </script>
{{end}}
